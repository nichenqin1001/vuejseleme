webpackJsonp([1,0],[function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var i=s(3),a=o(i),n=s(9),r=o(n),l=s(52),c=o(l),_=s(51),d=o(_),u=s(35),f=o(u),v=s(37),p=o(v),h=s(38),g=o(h),m=s(6),C=o(m);s(21);var S=s(33),y=o(S);a.default.use(c.default),a.default.use(d.default),a.default.use(r.default);var T=[{path:"/goods",component:f.default},{path:"/ratings",component:p.default},{path:"/seller",component:g.default}],F=new c.default({routes:T,linkActiveClass:"tab-active"});F.push("/goods"),new a.default({router:F,store:C.default,render:function(t){return t(y.default)}}).$mount("#app")},,,,function(t,e,s){s(26);var o=s(1)(s(11),s(44),null,null);t.exports=o.exports},function(t,e,s){s(23);var o=s(1)(s(19),s(41),"data-v-152154fe",null);t.exports=o.exports},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(3),a=o(i),n=s(9),r=o(n);a.default.use(r.default);var l={rect:{top:0,left:0},clsMap:["decrease","discount","guarantee","invoice","special"],selectedFood:{},textOnly:!0,showFoodsDetail:!1,collected:!1,rateType:2,detailScroll:"",ratingScroll:"",rateTypeFatherScroll:"",sellerScroll:"",imageScroll:""},c={UPDATE_TOP:function(t,e){t.rect.top=e},UPDATE_LEFT:function(t,e){t.rect.left=e},TOGGLE_FOOD_DETAIL:function(t,e){t.showFoodsDetail=e},FRESH_SELECTED_FOOD:function(t,e){t.selectedFood=e},TOGGLE_TEXT_ONLY:function(t){t.textOnly=!t.textOnly},UPDATE_DETAIL_SCROLL:function(t,e){t.detailScroll=e},UPDATE_RATING_SCROLL:function(t,e){t.ratingScroll=e},UPDATE_SELLER_SCROLL:function(t,e){t.sellerScroll=e},UPDATE_IMAGE_SCROLL:function(t,e){t.imageScroll=e},UPDATE_RATETYPE:function(t,e){t.rateType=e},UPDATE_FATHER_SCROLL:function(t,e){t.rateTypeFatherScroll=e},TOGGLE_COLLECTION:function(t){t.collected=!t.collected}},_={updateTop:function(t,e){var s=t.commit;s("UPDATE_TOP",e)},updateLeft:function(t,e){var s=t.commit;s("UPDATE_LEFT",e)},toggleFoodDetail:function(t,e){var s=t.commit;s("TOGGLE_FOOD_DETAIL",e)},freshSelectedFood:function(t,e){var s=t.commit;s("FRESH_SELECTED_FOOD",e)},toggleTextOnly:function(t){var e=t.commit;e("TOGGLE_TEXT_ONLY")},updateDetailScroll:function(t,e){var s=t.commit;s("UPDATE_DETAIL_SCROLL",e)},updateRatingScroll:function(t,e){var s=t.commit;s("UPDATE_RATING_SCROLL",e)},updateSellerScroll:function(t,e){var s=t.commit;s("UPDATE_SELLER_SCROLL",e)},updateImageScroll:function(t,e){var s=t.commit;s("UPDATE_IMAGE_SCROLL",e)},updateRatetype:function(t,e){var s=t.commit;s("UPDATE_RATETYPE",e)},updateFatherScroll:function(t,e){var s=t.commit;s("UPDATE_FATHER_SCROLL",e)},toggleCollection:function(t){var e=t.commit;e("TOGGLE_COLLECTION")}},d={getRect:function(t){return t.rect},getShowFoodDetail:function(t){return t.showFoodsDetail},getSelectedFood:function(t){return t.selectedFood},getTextOnly:function(t){return t.textOnly},getRateType:function(t){return t.rateType},getDetailScroll:function(t){return t.detailScroll},getRatingScroll:function(t){return t.ratingScroll},getSellerScroll:function(t){return t.sellerScroll},getImageScroll:function(t){return t.imageScroll},getFatherScroll:function(t){return t.rateTypeFatherScroll},getCollection:function(t){return t.collected},getClassMap:function(t){return t.clsMap}};e.default=new r.default.Store({state:l,mutations:c,actions:_,getters:d})},function(t,e,s){s(22);var o=s(1)(s(15),s(40),"data-v-128b791d",null);t.exports=o.exports},function(t,e,s){s(24);var o=s(1)(s(20),s(42),null,null);t.exports=o.exports},,function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(36),a=o(i),n=0;e.default={name:"app",data:function(){return{seller:{}}},created:function(){var t=this;this.$http.get("/api/seller").then(function(e){e=e.body,e.errno===n&&(t.seller=e.data)})},components:{"v-header":a.default}}},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(3),a=o(i);e.default={data:function(){return{rect:{clickTop:0,clickLeft:0}}},name:"cartcontrol",props:["food"],methods:{increaseFoodCount:function(){this.food.count?this.food.count++:a.default.set(this.food,"count",1),this.rect.clickTop=this.$refs.increaseControl.getBoundingClientRect().top,this.rect.clickLeft=this.$refs.increaseControl.getBoundingClientRect().left,this.$store.dispatch("updateTop",this.rect.clickTop),this.$store.dispatch("updateLeft",this.rect.clickLeft),this.$emit("add")},decreaseFoodCount:function(){0!==this.food.count&&this.food.count--}}}},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(3),a=o(i),n=s(2),r=o(n),l=s(4),c=o(l),_=s(7),d=o(_);e.default={name:"food",data:function(){return{detailScroll:""}},props:["selectedFood"],components:{cartcontrol:c.default,ratingtype:d.default},computed:{ratingTime:function t(){var t=[];return this.selectedFood.ratings.forEach(function(e){var s=new Date(e.rateTime),o=s.getFullYear()+"-",i=(s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1)+"-",a=s.getDate()+" ",n=s.getHours()+":",r=s.getMinutes()+":",l=s.getSeconds(),c=o+i+a+n+r+l;t.push(c)}),t},rateType:function(){return this.$store.getters.getRateType},textOnly:function(){return this.$store.getters.getTextOnly},rect:function t(){var t={top:0,left:0};return t}},updated:function(){this._setDetailScroll(),this._setFatherScroll()},methods:{_setDetailScroll:function(){if(this.$store.getters.getShowFoodDetail)if(this.$store.state.detailScroll)this.$store.state.detailScroll.refresh(),console.log("detailscrollrefresh");else{var t=new r.default(this.$refs.food,{click:!0});this.$store.dispatch("updateDetailScroll",t)}},_setFatherScroll:function(){this.$store.state.rateTypeFatherScroll!==this.$store.state.detailScroll&&this.$store.dispatch("updateFatherScroll",this.$store.state.detailScroll)},exitFoodDetail:function(){this.$store.dispatch("toggleFoodDetail",!1)},addFood:function(){this.rect.top=this.$refs.addFood.getBoundingClientRect().top,this.rect.left=this.$refs.addFood.getBoundingClientRect().left,this.$store.dispatch("updateTop",this.rect.clickTop),this.$store.dispatch("updateLeft",this.rect.clickLeft),this.selectedFood.count||a.default.set(this.selectedFood,"count",1),this.$emit("add")},toggleComment:function(t,e){return!(this.textOnly&&!e)&&(2===this.rateType||t===this.rateType)}}}},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(2),a=o(i),n=s(39),r=o(n),l=s(4),c=o(l),_=s(6),d=o(_),u=s(34),f=o(u),v=0;e.default={name:"goods",data:function(){return{goods:[],clsMap:["decrease","discount","guarantee","invoice","special"],menuScroll:"",foodsScroll:"",currentScreenIndex:0,scrollY:0,selectedFood:{}}},components:{shopCart:r.default,cartcontrol:c.default,food:f.default},props:["seller"],created:function(){var t=this;this.$http.get("/api/goods").then(function(e){e=e.body,e.errno===v&&(t.goods=e.data,t.$nextTick(function(){t._initScroll()}))})},methods:{skipToFoods:function(t,e){if(e._constructed){var s=this.$refs.foodsList,o=s[t];this.foodsScroll.scrollToElement(o,300)}},skipToMenu:function(t){var e=this.$refs.menuList,s=e[t];this.menuScroll.scrollToElement(s,300)},renderSelectedFood:function(t){this.selectedFood=t,this.$store.dispatch("toggleFoodDetail",!0)},_drop:function(){this.$refs.shopCart.drop()},_initScroll:function(){var t=this;this.menuScroll=new a.default(this.$refs.menuScroll,{click:!0}),this.foodsScroll=new a.default(this.$refs.foodsScroll,{probeType:3,click:!0}),this.foodsScroll.on("scroll",function(e){t.scrollY=Math.abs(Math.round(e.y)),t._getCurrentScreenIndex(),t.skipToMenu(t.currentScreenIndex)})},_getCurrentScreenIndex:function(){for(var t=this.$refs.foodsList,e=0;e<t.length;e++){var s=t[e].offsetTop;if(this.scrollY-s<0)break;this.currentScreenIndex=e}}},computed:{selectedFoods:function t(){var t=[];return this.goods.forEach(function(e){e.foods.forEach(function(e){e.count&&t.push(e)})}),t}},store:d.default}},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(5),a=o(i),n=s(8),r=o(n);e.default={name:"header",data:function(){return{coverShow:!1}},props:["seller"],methods:{showDetail:function(){this.coverShow=!0},hideDetail:function(){this.coverShow=!1}},components:{"v-star":a.default,supports:r.default},computed:{clsMap:function(){return this.$store.getters.getClassMap}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"rating",props:["ratings"],computed:{textOnly:function(){return this.$store.getters.getTextOnly},rateType:function(){return this.$store.getters.getRateType},positiveRatings:function(){return this.ratings.filter(function(t){return 0===t.rateType})},negtiveRatings:function(){return this.ratings.filter(function(t){return 1===t.rateType})},textOnlyRatings:function(){return this.ratings.filter(function(t){return t.text})},fatherScroll:function(){return this.$store.state.rateTypeFatherScroll}},methods:{toggleFilter:function(t){this.$store.dispatch("toggleTextOnly"),this._freshFatherScroll(t)},toggleRateType:function(t,e){this.$store.dispatch("updateRatetype",t),this._freshFatherScroll(e)},_freshFatherScroll:function(t){t.refresh()}}}},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(2),a=o(i),n=s(5),r=o(n),l=s(7),c=o(l),_=0;e.default={name:"ratings",props:["seller"],components:{star:r.default,rating:c.default},computed:{ratingTime:function t(){var t=[];return this.ratings.forEach(function(e){var s=new Date(e.rateTime),o=s.getFullYear()+"-",i=(s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1)+"-",a=s.getDate()+" ",n=s.getHours()<10?"0"+s.getHours()+":":s.getHours()+":",r=s.getMinutes()<10?"0"+s.getMinutes()+":":s.getMinutes()+":",l=s.getSeconds()<10?"0"+s.getSeconds():s.getSeconds(),c=o+i+a+n+r+l;t.push(c)}),t},textOnly:function(){return this.$store.getters.getTextOnly},rateType:function(){return this.$store.getters.getRateType}},data:function(){return{ratings:[]}},created:function(){var t=this;this.$http.get("/api/ratings").then(function(e){e=e.body,e.errno===_&&(t.ratings=e.data)})},methods:{_setRatingScroll:function(){if(this.$store.state.ratingScroll)this.$store.state.ratingScroll.refresh();else{var t=new a.default(this.$refs.rating,{click:!0});this.$store.dispatch("updateRatingScroll",t)}},_setFatherScroll:function(){this.$store.state.rateTypeFatherScroll!==this.$store.state.ratingScroll&&this.$store.dispatch("updateFatherScroll",this.$store.getters.getRatingScroll)},toggleComment:function(t,e){return!(this.textOnly&&!e)&&(2===this.rateType||t===this.rateType)}},updated:function(){this._setRatingScroll(),this._setFatherScroll()}}},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(2),a=o(i),n=s(5),r=o(n),l=s(8),c=o(l);e.default={name:"seller",props:["seller"],components:{star:r.default,supports:c.default},computed:{collected:function(){return this.$store.state.collected},clsMap:function(){return this.$store.state.clsMap}},methods:{toggleCollection:function(){this.$store.dispatch("toggleCollection")},_setScroll:function(t,e,s){var o=new a.default(t,{click:!0,scrollX:s});this.$store.dispatch(e,o)},_setGalleryWidth:function(){var t=120,e=6,s=(t+e)*this.seller.pics.length-e;this.$refs.gallery.style.width=s+"px"}},created:function(){var t=this;this.$nextTick(function(){t._setScroll(t.$refs.sellerScroll,"updateSellerScroll",!1),t._setGalleryWidth(),t._setScroll(t.$refs.imagesWrapper,"updateImageScroll",!0)})}}},function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(2),a=o(i),n=s(4),r=o(n);e.default={data:function(){return{balls:[{id:1,show:!1},{id:2,show:!1},{id:3,show:!1},{id:4,show:!1},{id:5,show:!1}],dropballs:[],listScroll:"",fold:!0}},components:{cartcontrol:r.default},props:{seller:Object,selectedFoods:Array},computed:{totalPrice:function t(){var t=0;return this.selectedFoods.forEach(function(e){t+=e.price*e.count}),t},totalCount:function t(){var t=0;return this.selectedFoods.forEach(function(e){t+=e.count}),t},diffPrice:function(){return parseInt(this.seller.minPrice-this.totalPrice)},listShow:function(){var t=this;return this.selectedFoods.length?(this.fold||this.$nextTick(function(){t.listScroll?t.listScroll.refresh():t.listScroll=new a.default(t.$refs.listScroll,{click:!0})}),!0):(this.fold=!0,!1)}},methods:{drop:function(){for(var t=0;t<this.balls.length;t++){var e=this.balls[t];if(!e.show)return e.show=!0,void this.dropballs.push(e)}},beforeEnter:function(t){for(var e=this.balls.length;e--;)t.style.left=this.$store.getters.getRect.left+"px",t.style.top=this.$store.getters.getRect.top+"px"},enter:function(t,e){this.$nextTick(function(){t.style.left="32px",t.style.top=window.innerHeight-22+"px"}),e()},afterEnter:function(t){var e=this.dropballs.shift();e&&(e.show=!1)},empty:function(){this.selectedFoods.forEach(function(t){t.count=0}),this.fold=!0},listContentShow:function(){this.listShow&&(this.fold=!this.fold||"")}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["score","size"],computed:{comscore:function(){return Math.floor(2*this.score)/2},stars:function t(){for(var t=[],e=Math.floor(2*this.score)/2,s=parseInt(e.toString().split(".")[0]),o=parseInt(e.toString().split(".")[1]),i=1;i<=5;i++)s>=i?t.push(1):t.push(0);return 5===o&&(t[s]=2),t},starSize:function(){return"star-"+this.size},starItemSize:function(){return"star-item-"+this.size}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"supports",props:["supports"],computed:{clsMap:function(){return this.$store.state.clsMap}}}},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,s){s(27);var o=s(1)(s(10),s(45),null,null);t.exports=o.exports},function(t,e,s){s(25);var o=s(1)(s(12),s(43),"data-v-42fd7d01",null);t.exports=o.exports},function(t,e,s){s(31);var o=s(1)(s(13),s(49),null,null);t.exports=o.exports},function(t,e,s){s(29);var o=s(1)(s(14),s(47),"data-v-85eaf7be",null);t.exports=o.exports},function(t,e,s){s(32);var o=s(1)(s(16),s(50),"data-v-f48c7196",null);t.exports=o.exports},function(t,e,s){s(30);var o=s(1)(s(17),s(48),null,null);t.exports=o.exports},function(t,e,s){s(28);var o=s(1)(s(18),s(46),null,null);t.exports=o.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rating",attrs:{id:"rating"}},[s("div",{staticClass:"rating__type"},[s("span",{staticClass:"rating__type-text rating__type-text_i_1",class:{active:2===t.rateType},on:{click:function(e){t.toggleRateType(2,t.fatherScroll)}}},[t._v("\n      全部\n      "),t.ratings?s("span",{staticClass:"rating__type-text_count"},[t._v(t._s(t.ratings.length))]):t._e()]),t._v(" "),s("span",{staticClass:"rating__type-text rating__type-text_i_2",class:{active:0===t.rateType},on:{click:function(e){t.toggleRateType(0,t.fatherScroll)}}},[t._v("\n      满意\n      "),t.ratings?s("span",{staticClass:"rating__type-text_count"},[t._v(t._s(t.positiveRatings.length))]):t._e()]),t._v(" "),s("span",{staticClass:"rating__type-text rating__type-text_i_3",class:{active:1===t.rateType},on:{click:function(e){t.toggleRateType(1,t.fatherScroll)}}},[t._v("\n      不满意\n      "),t.ratings?s("span",{staticClass:"rating__type-text_count"},[t._v(t._s(t.negtiveRatings.length))]):t._e()])]),t._v(" "),s("div",{staticClass:"rating__filter",class:{rating__filter_status_all:!t.textOnly},on:{click:function(e){t.toggleFilter(t.fatherScroll)}}},[s("i",{staticClass:"icon-check_circle"}),t._v(" "),s("span",{staticClass:"rating__filter__text"},[t._v("只看有内容的评价")]),t._v(" "),t.ratings?s("span",{staticClass:"rating__filter__text_count"},[t._v(t._s(t.textOnlyRatings.length))]):t._e()])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stars"},t._l(t.stars,function(e,o){return s("div",{staticClass:"stars__star",class:t.starSize},[1==t.stars[o]?s("div",{staticClass:"stars__star_item stars__star_item_1",class:t.starItemSize}):t._e(),t._v(" "),2==t.stars[o]?s("div",{staticClass:"stars__star_item stars__star_item_2",class:t.starItemSize}):t._e(),t._v(" "),0==t.stars[o]?s("div",{staticClass:"stars__star_item stars__star_item_0",class:t.starItemSize}):t._e()])}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"supports"},t._l(t.supports,function(e,o){return s("li",{staticClass:"supports_support"},[s("img",{staticClass:"supports_support_icon",class:"icon-"+t.clsMap[e.type],attrs:{alt:""}}),t._v(" "),s("span",{staticClass:"supports_support_text"},[t._v(t._s(e.description))])])}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"food",staticClass:"food",attrs:{id:"food"}},[s("div",{staticClass:"food__wrapper"},[s("div",{staticClass:"food__header"},[s("img",{staticClass:"food__header-img",attrs:{src:t.selectedFood.image,alt:""}}),t._v(" "),s("i",{staticClass:"icon-arrow_lift",on:{click:t.exitFoodDetail}})]),t._v(" "),s("div",{staticClass:"food__content"},[s("div",{staticClass:"food__content-title"},[t._v(t._s(t.selectedFood.name))]),t._v(" "),s("div",{staticClass:"food__content-rating"},[t._v("月售"+t._s(t.selectedFood.sellCount)+"份 好评率"+t._s(t.selectedFood.rating)+"%")]),t._v(" "),s("div",{staticClass:"food__content-price"},[s("span",{staticClass:"food__content-price_status_new"},[t._v("￥"+t._s(t.selectedFood.price))]),t._v(" "),t.selectedFood.oldPrice?s("span",{staticClass:"food__content-price_status_old"},[t._v("￥"+t._s(t.selectedFood.oldPrice))]):t._e()]),t._v(" "),s("div",{staticClass:"food__content-add"},[t.selectedFood.count?t._e():s("div",{ref:"addFood",staticClass:"food__content-add_status_empty",on:{click:t.addFood}},[t._v("加入购入车")]),t._v(" "),t.selectedFood.count?s("cartcontrol",{staticClass:"food__content-add_status_full",attrs:{food:t.selectedFood}}):t._e()],1)]),t._v(" "),t.selectedFood.info?s("div",{staticClass:"food__desc"},[s("div",{staticClass:"food__desc-title"},[t._v("商品介绍")]),t._v(" "),s("div",{staticClass:"food__desc-content"},[t._v(t._s(t.selectedFood.info))])]):t._e(),t._v(" "),s("div",{staticClass:"food__ratings"},[s("div",{staticClass:"food__ratings-title"},[t._v("商品评价")]),t._v(" "),s("ratingtype",{attrs:{ratings:t.selectedFood.ratings}}),t._v(" "),s("transition-group",{staticClass:"rating__comments",attrs:{tag:"ul",name:"custom-classes-transition","enter-active-class":"animated bounceInLeft","leave-active-class":"animated bounceOutLeft"}},t._l(t.selectedFood.ratings,function(e,o){return t.toggleComment(e.rateType,e.text)?s("li",{key:o,staticClass:"rating__comments-comment"},[s("div",{staticClass:"rating__comments-comment_left"},[s("div",{staticClass:"rating__comments-comment_left__date"},[t._v(t._s(t.ratingTime[o]))]),t._v(" "),s("div",{staticClass:"rating__comments-comment_left__comment"},[s("i",{class:{"icon-thumb_up":0===e.rateType,"icon-thumb_down":1===e.rateType}}),t._v(" "+t._s(e.text)+"\n            ")])]),t._v(" "),s("div",{staticClass:"rating__comments-comment_right"},[s("div",{staticClass:"rating__comments-comment_right_username"},[t._v(t._s(e.username))]),t._v(" "),s("img",{staticClass:"rating__comments-comment_right_avatar",attrs:{src:e.avatar,alt:""}})])]):t._e()})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.selectedFood.ratings||!t.selectedFood.ratings.length,expression:"!selectedFood.ratings||!selectedFood.ratings.length"}],staticClass:"rating__no-comment"},[t._v("暂无评价")])],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cartcontrol"},[s("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated rollIn","leave-active-class":"animated rollOut"}},[t.food.count>0?s("div",{key:"decrease",staticClass:"cartcontrol__decrease",on:{click:function(e){t.decreaseFoodCount()}}},[s("i",{staticClass:"icon-remove_circle_outline"})]):t._e()]),t._v(" "),s("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated rollIn","leave-active-class":"animated rollOut"}},[t.food.count>0?s("div",{key:"count",staticClass:"cartcontrol__count"},[t._v(t._s(t.food.count))]):t._e()]),t._v(" "),s("div",{ref:"increaseControl",staticClass:"cartcontrol__increase",on:{click:function(e){t.increaseFoodCount(e)}}},[s("i",{staticClass:"icon-add_circle"})])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("v-header",{attrs:{seller:t.seller}}),t._v(" "),s("p",{staticClass:"tabs"},[s("router-link",{staticClass:"tabs__tab-item",attrs:{to:"/goods"}},[t._v("商品")]),t._v(" "),s("router-link",{staticClass:"tabs__tab-item",attrs:{to:"/ratings"}},[t._v("评价")]),t._v(" "),s("router-link",{staticClass:"tabs__tab-item",attrs:{to:"/seller"}},[t._v("商家")])],1),t._v(" "),s("keep-alive",[s("router-view",{attrs:{seller:t.seller}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart"},[s("div",{staticClass:"content"},[s("div",{staticClass:"content__left",on:{click:t.listContentShow}},[s("div",{staticClass:"content__left_icon",class:{content__left_icon_status_active:t.totalCount>0}},[s("i",{staticClass:"icon-shopping_cart",class:{"icon-active":t.totalCount>0}})]),t._v(" "),t.totalCount>0?s("div",{staticClass:"content__left_count"},[t._v(t._s(t.totalCount))]):t._e(),t._v(" "),s("div",{staticClass:"content__left_price",class:{content__left_price_status_active:t.totalPrice>0}},[t._v("￥"+t._s(t.totalPrice))]),t._v(" "),s("div",{staticClass:"content__left_deliveryprice"},[t._v("另需配送费￥"+t._s(t.seller.deliveryPrice)+"元")])]),t._v(" "),0===t.totalPrice?s("div",{staticClass:"content__right"},[t._v("￥"+t._s(t.seller.minPrice)+"元起送")]):t.totalPrice<t.seller.minPrice?s("div",{staticClass:"content__right"},[t._v("还差￥"+t._s(t.diffPrice)+"元起送")]):s("div",{staticClass:"content__right content__right_status_active"},[t._v("去结算")])]),t._v(" "),s("div",{staticClass:"balls"},[s("transition-group",{attrs:{tag:"ul",name:"drop"},on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},t._l(t.balls,function(e,o){return e.show?s("li",{key:e.id,staticClass:"balls__ball"}):t._e()}))],1),t._v(" "),s("transition-group",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"list",attrs:{name:"fold",tag:"div"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],key:"header",staticClass:"list__header",on:{click:t.listContentShow}},[s("h3",{staticClass:"list__header-title"},[t._v("购物车")]),t._v(" "),s("div",{staticClass:"list__header-empty",on:{click:t.empty}},[t._v("清空")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.fold,expression:"!fold"}],key:"content",ref:"listScroll",staticClass:"list__content"},[s("ul",t._l(t.selectedFoods,function(e,o){return s("li",{staticClass:"list__content-food"},[s("span",{staticClass:"list__content-food_name"},[t._v(t._s(e.name))]),t._v(" "),s("span",{staticClass:"list__content-food_price"},[t._v(t._s(e.price))]),t._v(" "),s("cartcontrol",{attrs:{food:e},on:{add:function(e){t.drop()}}})],1)}))])]),t._v(" "),s("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.fold,expression:"!fold"}],staticClass:"cover",on:{click:t.listContentShow}})])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"header__notice"},[s("div",{staticClass:"header__notice-avatar"},[s("img",{attrs:{src:t.seller.avatar}})]),t._v(" "),s("div",{staticClass:"header__notice-content"},[s("div",{staticClass:"header__notice-content__title"},[s("span",{staticClass:"header__notice-content__title_brand"}),t._v(" "),s("span",{staticClass:"header__notice-content__title_name"},[t._v(t._s(t.seller.name))])]),t._v(" "),s("div",{staticClass:"header__notice-content__desc"},[t._v("\n        "+t._s(t.seller.description)+"/"+t._s(t.seller.deliveryTime)+"分钟\n      ")]),t._v(" "),t.seller.supports?s("div",{staticClass:"header__notice-content__supports"},[0==t.seller.supports[0].type?s("span",{staticClass:"header__notice-content__supports_icon header__notice-content__supports_icon_i_1"}):t._e(),t._v(" "),1==t.seller.supports[0].type?s("span",{staticClass:"header__notice-content__supports_icon header__notice-content__supports_icon_i_2"}):t._e(),t._v(" "),2==t.seller.supports[0].type?s("span",{staticClass:"header__notice-content__supports_icon header__notice-content__supports_icon_i_3"}):t._e(),t._v(" "),3==t.seller.supports[0].type?s("span",{staticClass:"header__notice-content__supports_icon header__notice-content__supports_icon_i_4"}):t._e(),t._v(" "),4==t.seller.supports[0].type?s("span",{staticClass:"header__notice-content__supports_icon header__notice-content__supports_icon_i_5"}):t._e(),t._v(" "),s("span",{staticClass:"header__notice-content__supports_text"},[t._v(t._s(t.seller.supports[0].description))])]):t._e(),t._v(" "),t.seller.supports?s("div",{staticClass:"header__notice-detail",on:{click:t.showDetail}},[s("span",{staticClass:"header__notice-detail_count"},[t._v(t._s(t.seller.supports.length)+"个"),s("i",{staticClass:"icon-keyboard_arrow_right"})])]):t._e()])]),t._v(" "),s("div",{staticClass:"header__bulletin",on:{click:t.showDetail}},[s("span",{staticClass:"header__bulletin-brand"}),t._v(" "),s("span",{staticClass:"header__bulletin-text"},[t._v(t._s(t.seller.bulletin))]),t._v(" "),s("i",{staticClass:"icon-keyboard_arrow_right"})]),t._v(" "),s("div",{staticClass:"header__background"},[s("img",{attrs:{src:t.seller.avatar,alt:""}})]),t._v(" "),s("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated slideInLeft","leave-active-class":"animated slideOutLeft"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.coverShow,expression:"coverShow"}],staticClass:"header__cover"},[s("div",{staticClass:"header__cover-content"},[s("h1",{staticClass:"header__cover-content_name"},[t._v(t._s(t.seller.name))]),t._v(" "),s("div",{staticClass:"header__cover-content_star"},[s("v-star",{attrs:{score:t.seller.score,size:48}})],1),t._v(" "),s("div",{staticClass:"header__cover-content_title"},[s("div",{staticClass:"header__cover-content_title_text"},[t._v("优惠信息")])]),t._v(" "),t.seller.supports?s("supports",{attrs:{supports:t.seller.supports}}):t._e(),t._v(" "),s("div",{staticClass:"header__cover-content_title"},[s("div",{staticClass:"header__cover-content_title_text"},[t._v("商家公告")])]),t._v(" "),s("div",{staticClass:"header__cover-content_bulletin"},[t._v(t._s(t.seller.bulletin))])],1),t._v(" "),s("footer",{staticClass:"header__cover-close"},[s("i",{staticClass:"icon-close",on:{click:t.hideDetail}})])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"sellerScroll",staticClass:"seller-wrapper"},[s("div",{staticClass:"seller",attrs:{id:"seller"}},[s("div",{staticClass:"seller__header"},[s("div",{staticClass:"seller__header_title"},[s("div",{staticClass:"seller__header_title_name"},[t._v(t._s(t.seller.name))]),t._v(" "),s("div",{staticClass:"seller__header_title_score"},[s("star",{attrs:{size:36,score:t.seller.score}}),t._v(" "),s("div",{staticClass:"seller__header_title_score_count"},[t._v("\n            ("+t._s(t.seller.ratingCount)+")\n          ")]),t._v(" "),s("div",{staticClass:"seller__header_title_score_sellcount"},[t._v("\n            月售"+t._s(t.seller.sellCount)+"单\n          ")])],1),t._v(" "),s("div",{staticClass:"seller__header_title_heart",on:{click:t.toggleCollection}},[s("i",{staticClass:"icon-favorite",class:{collected:t.collected,collected:t.collected}}),t._v(" "),t.collected?s("div",{staticClass:"seller__header_title_heart_text"},[t._v("已收藏")]):s("div",{staticClass:"seller__header_title_heart_text"},[t._v("点击收藏")])])]),t._v(" "),s("div",{staticClass:"seller__header_info"},[s("div",{staticClass:"seller__header_info_item seller__header_info_item_1"},[s("div",{staticClass:"seller__header_info_item_title"},[t._v("\n            起送价\n          ")]),t._v(" "),s("div",{staticClass:"seller__header_info_item_num"},[t._v("\n            "+t._s(t.seller.minPrice)),s("span",{staticClass:"unit"},[t._v("元")])])]),t._v(" "),s("div",{staticClass:"seller__header_info_item seller__header_info_item_2"},[s("div",{staticClass:"seller__header_info_item_title"},[t._v("\n            商家配送\n          ")]),t._v(" "),s("div",{staticClass:"seller__header_info_item_num"},[t._v("\n            "+t._s(t.seller.deliveryPrice)),s("span",{staticClass:"unit"},[t._v("元")])])]),t._v(" "),s("div",{staticClass:"seller__header_info_item seller__header_info_item_3"},[s("div",{staticClass:"seller__header_info_item_title"},[t._v("\n            平均配送时间\n          ")]),t._v(" "),s("div",{staticClass:"seller__header_info_item_num"},[t._v("\n            "+t._s(t.seller.deliveryTime)),s("span",{staticClass:"unit"},[t._v("分钟")])])])])]),t._v(" "),s("div",{staticClass:"seller__notice"},[s("div",{staticClass:"seller__notice_bulletin"},[s("h3",{staticClass:"seller__notice_bulletin_title"},[t._v("公告与活动")]),t._v(" "),s("p",{staticClass:"seller__notice_bulletin_text"},[t._v(t._s(t.seller.bulletin))])]),t._v(" "),s("supports",{staticClass:"seller__notice_supports",attrs:{supports:t.seller.supports}})],1),t._v(" "),s("div",{staticClass:"seller__site"},[s("h1",{staticClass:"seller__site_title"},[t._v("商家实景")]),t._v(" "),s("div",{ref:"imagesWrapper",staticClass:"images-wrapper"},[s("ul",{ref:"gallery",staticClass:"seller__site_images"},t._l(t.seller.pics,function(t,e){return s("li",{staticClass:"seller__site_images_image"},[s("img",{attrs:{src:t,alt:""}})])}))])]),t._v(" "),s("div",{staticClass:"seller__info"},[s("h1",{staticClass:"seller__info_title"},[t._v("商家信息")]),t._v(" "),s("ul",{staticClass:"seller__info_text"},t._l(t.seller.infos,function(e,o){return s("li",{staticClass:"seller__info_text_item"},[t._v(t._s(e))])}))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"goods"},[s("div",{ref:"menuScroll",staticClass:"menu"},[s("ul",{staticClass:"menu__goods"},t._l(t.goods,function(e,o){return s("li",{key:e.name,ref:"menuList",refInFor:!0,staticClass:"menu__goods_good",class:{"menu-active":t.currentScreenIndex===o},on:{click:function(e){t.skipToFoods(o,e)}}},[s("span",{staticClass:"menu__goods_good_text"},[e.type>0?s("span",{staticClass:"menu__goods_good_icon",class:"icon-"+t.clsMap[e.type]}):t._e(),t._v("            "+t._s(e.name)+"\n          ")])])}))]),t._v(" "),s("div",{ref:"foodsScroll",staticClass:"foods"},[s("ul",{staticClass:"foods__goods-name"},t._l(t.goods,function(e,o){return s("li",{key:e.name,ref:"foodsList",refInFor:!0,staticClass:"foods__goods-foods"},[s("h1",{staticClass:"foods__goods-foods_name"},[t._v(t._s(e.name))]),t._v(" "),t._l(e.foods,function(e,o){return s("div",{key:e.name,staticClass:"foods__goods-foods_food"},[s("img",{staticClass:"foods__goods-foods_food_img",attrs:{src:e.image,alt:""}}),t._v(" "),s("div",{staticClass:"foods__goods-foods_food_desc",on:{click:function(s){
t.renderSelectedFood(e)}}},[s("h2",{staticClass:"foods__goods-foods_food_desc-name"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"foods__goods-foods_food_desc-desc"},[t._v(t._s(e.description))]),t._v(" "),s("p",{staticClass:"foods__goods-foods_food_desc-sell"},[s("span",[t._v("月售"+t._s(e.sellCount)+"份")]),t._v(" "),s("span",[t._v("好评率"+t._s(e.rating)+"%")])]),t._v(" "),s("div",{staticClass:"foods__goods-foods_food_desc-price"},[s("span",{staticClass:"foods__goods-foods_food_desc-price_new"},[t._v("￥"+t._s(e.price))]),t._v(" "),e.oldPrice?s("span",{staticClass:"foods__goods-foods_food_desc-price_old"},[t._v("￥"+t._s(e.oldPrice))]):t._e()])]),t._v(" "),s("cartcontrol",{attrs:{food:e},on:{add:function(e){t._drop()}}})],1)})],2)}))])]),t._v(" "),s("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated slideInLeft","leave-active-class":"animated slideOutLeft"}},[this.$store.getters.getShowFoodDetail?s("food",{attrs:{selectedFood:t.selectedFood},on:{add:function(e){t._drop()}}}):t._e()],1),t._v(" "),s("shopCart",{ref:"shopCart",attrs:{seller:t.seller,selectedFoods:t.selectedFoods}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"rating",staticClass:"ratings",attrs:{id:"ratings"}},[s("div",{staticClass:"rating-wrapper"},[s("div",{staticClass:"ratings__overview"},[s("div",{staticClass:"ratings__overview-left"},[s("div",{staticClass:"ratings__overview-left_score"},[t._v(t._s(t.seller.score))]),t._v(" "),s("div",{staticClass:"ratings__overview-left_title"},[t._v("综合评分")]),t._v(" "),s("div",{staticClass:"ratings__overview-left_rank"},[t._v("高于周边商家"+t._s(t.seller.rankRate)+"%")])]),t._v(" "),s("div",{staticClass:"ratings__overview-right"},[s("div",{staticClass:"ratings__overview-right_service"},[s("div",{staticClass:"ratings__overview-right_service_text"},[t._v("服务态度")]),t._v(" "),s("star",{attrs:{score:t.seller.score,size:36}}),t._v(" "),s("div",{staticClass:"ratings__overview-right_service_score"},[t._v("\n            "+t._s(t.seller.score)+"\n          ")])],1),t._v(" "),s("div",{staticClass:"ratings__overview-right_food"},[s("div",{staticClass:"ratings__overview-right_service_text"},[t._v("商品评分")]),t._v(" "),s("star",{attrs:{score:t.seller.foodScore,size:36}}),t._v(" "),s("div",{staticClass:"ratings__overview-right_food_score"},[t._v("\n            "+t._s(t.seller.foodScore)+"\n          ")])],1),t._v(" "),s("div",{staticClass:"ratings__overview-right_deliverytime"},[s("div",{staticClass:"ratings__overview-right_deliverytime_text"},[t._v("\n            送达时间\n          ")]),t._v(" "),s("div",{staticClass:"ratings__overview-right_deliverytime_time"},[t._v("\n            "+t._s(t.seller.deliveryTime)+"分钟\n          ")])])])]),t._v(" "),s("rating",{staticClass:"ratings__rating",attrs:{ratings:t.ratings}}),t._v(" "),s("transition-group",{staticClass:"ratings__comments",attrs:{tag:"ul",name:"custom-classes-transition","enter-active-class":"animated bounceInLeft","leave-active-class":"animated bounceOutLeft"}},t._l(t.ratings,function(e,o){return t.toggleComment(e.rateType,e.text)?s("li",{key:e.rateTime,staticClass:"ratings__comments-comment"},[s("img",{staticClass:"ratings__comments-comment_avatar",attrs:{src:e.avatar,alt:""}}),t._v(" "),s("div",{staticClass:"ratings__comments-comment_username"},[s("div",{staticClass:"ratings__comments-comment_username_name"},[t._v("\n            "+t._s(e.username)+"\n          ")]),t._v(" "),s("div",{staticClass:"ratings__comments-comment_username_date"},[t._v("\n            "+t._s(t.ratingTime[o])+"\n          ")])]),t._v(" "),s("div",{staticClass:"ratings__comments-comment_score"},[s("star",{attrs:{size:24,score:e.score}}),t._v(" "),e.deliveryTime?s("div",{staticClass:"ratings__comments-comment_score_deliverytime"},[t._v("\n            "+t._s(e.deliveryTime)+"分钟送达\n          ")]):t._e()],1),t._v(" "),s("div",{staticClass:"ratings__comments-comment_text"},[t._v(t._s(e.text))]),t._v(" "),s("div",{staticClass:"ratings__comments-comment_recommend"},[s("i",{staticClass:"icon",class:{"icon-thumb_up":0===e.rateType,"icon-thumb_down":1===e.rateType}}),t._v(" "),t._l(e.recommend,function(e,o){return s("div",{staticClass:"ratings__comments-comment_recommend_item"},[t._v("\n            "+t._s(e)+"\n          ")])})],2)]):t._e()}))],1)])},staticRenderFns:[]}}]);
//# sourceMappingURL=app.35bd54ac8c68301b5048.js.map